webpackJsonp([1],{"sC+t":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("3cXf"),i=e.n(a),l=e("4YfN"),r=e.n(l),n=e("b8UZ"),o={name:"ordersDetails",data:function(){return{orderid:this.$route.query.orderid,orderList:[],status:null,amount:0}},computed:r()({},Object(n.c)(["user"])),filters:{statusFliter:function(t){return 0==t?"未支付":1==t?"已完成":2==t?"已取消":void 0}},methods:{deleteRow:function(t){var s=this,e={userid:this.user.id,orderid:t.orderid,productid:t.productid},a=this.$loading({lock:!0,background:"rgba(0, 0, 0, 0.5)"});this.$axios.post("shop/order/deleteProductInOrderDetails",i()(e)).then(function(t){a.close(),t&&"20000"===t.resultCode?(s.getOrdersDetailsById(),s.$notify({message:"删除成功。",type:"success"})):s.$notify({message:"删除失败。",type:"warning"})}).catch(function(t){a.close(),s.$notify({message:"删除接口报错。",type:"warning"})})},getOrdersDetailsById:function(){var t=this,s=this.$loading({lock:!0,background:"rgba(0, 0, 0, 0.5)"}),e={orderid:this.orderid,userid:this.user.id};this.$axios.post("shop/order/getOrdersDetailsById",e).then(function(e){s.close(),e&&"20000"===e.resultCode?(t.orderList=e.result.orderlist,t.amount=e.result.amount,t.status=t.orderList.length?t.orderList[0].status:null):t.$notify({message:"获取订单列表失败。",type:"warning"})}).catch(function(e){s.close(),t.$notify({message:"订单列表接口报错。",type:"warning"})})},init:function(){this.getOrdersDetailsById()}},mounted:function(){},created:function(){this.init()}},c=e("W5g0"),d=Object(c.a)(o,function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"state-lcol fx-f1"},[e("div",{staticClass:"state-txt fx"},[e("div",{staticClass:"fx-f1"},[e("div",{staticClass:"state-top"},[t._v("订单号："+t._s(t.orderid))]),t._v(" "),e("h3",{staticClass:"state-txt ftx-02"},[t._v(t._s(t._f("statusFliter")(t.status)))])]),t._v(" "),e("div",{staticClass:"dl fx-f1"},[t._m(0),t._v(" "),e("div",{staticClass:"dd"},[e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("收货人：")]),t._v(" "),e("div",{staticClass:"info-rcol"},[t._v(t._s(this.user.name))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("地址：")]),t._v(" "),e("div",{staticClass:"info-rcol"},[t._v(t._s(this.user.address))])]),t._v(" "),e("div",{staticClass:"item"},[e("span",{staticClass:"label"},[t._v("手机号码：")]),t._v(" "),e("div",{staticClass:"info-rcol"},[t._v(t._s(this.user.tel))])])])])]),t._v(" "),e("div",{staticClass:"orderList"},[[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderList,border:""}},[e("el-table-column",{attrs:{prop:"cname",label:"商品名称"}}),t._v(" "),e("el-table-column",{attrs:{prop:"productid",label:"商品编号",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"listprice",label:"价格",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{prop:"quantity",label:"数量",width:"180"}}),t._v(" "),e("el-table-column",{attrs:{label:"总价(￥)"},scopedSlots:t._u([{key:"default",fn:function(s){return[t._v("\n              "+t._s(s.row.listprice*s.row.quantity)+"\n            ")]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(s){return[e("el-button",{attrs:{type:"text",size:"small"},on:{click:function(e){return t.deleteRow(s.row)}}},[t._v("删除")])]}}])})],1)]],2),t._v(" "),e("div",{staticClass:"goods-total clx"},[e("ul",[t._m(1),t._v(" "),t._m(2),t._v(" "),e("li",[e("span",{staticClass:"label"},[t._v("商品总额：")]),t._v(" "),e("span",{staticClass:"txt"},[t._v("¥"+t._s(t.amount))])]),t._v(" "),e("li",{staticClass:"ftx-01"},[e("span",{staticClass:"label"},[t._v("应付总额：")]),t._v(" "),e("span",{staticClass:"txt count"},[t._v("¥"+t._s(t.amount))])]),t._v(" "),e("li",{staticClass:"btn"},[e("el-row",[e("el-button",{attrs:{type:"danger"}},[t._v("确认支付")])],1)],1)])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"dt"},[s("h4",[this._v("收货人信息")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",[s("span",{staticClass:"label"},[this._v("付款方式：")]),this._v(" "),s("span",{staticClass:"txt"},[this._v("在线支付")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("li",{staticClass:"hide"},[s("span",{staticClass:"label"},[this._v("付款时间：")]),this._v(" "),s("span",{staticClass:"txt"})])}],!1,null,null,null);s.default=d.exports}});
//# sourceMappingURL=1.4a9d7a758a4bef669440.js.map